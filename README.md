# シンプルなバーチャルスクロール

大量のアイテム（10,000 件）を効率的にレンダリングするバーチャルスクロール実装です。画面に表示される部分のみを DOM に描画することで、パフォーマンスを最適化しています。

## 特徴

- **高パフォーマンス**: 10,000 件のアイテムでもスムーズなスクロール
- **シンプルな実装**: 軽量でわかりやすいコード
- **レスポンシブ対応**: ウィンドウリサイズに自動対応
- **オーバースキャン**: スクロール時のちらつきを防止

## デモ

```
バーチャルアイテム 1
バーチャルアイテム 2
バーチャルアイテム 3
...
バーチャルアイテム 10000
```

## ファイル構成

```
├── index.html  # メインHTML
└── main.js     # バーチャルスクロール実装
```

## セットアップ

1. ファイルをダウンロード
2. `index.html`をブラウザで開く
3. スクロールして動作確認

## 設定値

| 設定項目      | デフォルト値 | 説明                       |
| ------------- | ------------ | -------------------------- |
| `ITEM_HEIGHT` | 50           | 各アイテムの高さ（px）     |
| `TOTAL_ITEMS` | 10000        | 総アイテム数               |
| `OVERSCAN`    | 2            | 表示範囲外の描画アイテム数 |

## 仕組み

### 1. 表示範囲の計算

```javascript
const start = Math.max(0, Math.floor(scrollTop / ITEM_HEIGHT) - OVERSCAN);
const end = Math.min(TOTAL_ITEMS - 1, start + visibleCount + OVERSCAN * 2);
```

### 2. DOM 要素の最適化

- 表示範囲外の要素を削除
- 新しく必要な要素のみ作成
- 絶対配置でアイテム位置を制御

### 3. スクロール処理

- `requestAnimationFrame`でパフォーマンス最適化
- リサイズイベントに対応

## ブラウザサポート

- Chrome 60+
- Firefox 55+
- Safari 10+
- Edge 79+

## カスタマイズ

### アイテムの高さを変更

```javascript
const ITEM_HEIGHT = 80; // 80pxに変更
```

### データソースの変更

```javascript
const data = yourCustomDataArray;
const TOTAL_ITEMS = data.length;
```

### スタイルのカスタマイズ

`index.html`の`.item`クラスの CSS を編集してください。

## パフォーマンス

- **通常のリスト**: 10,000 個の DOM 要素
- **バーチャルスクロール**: 約 10-20 個の DOM 要素のみ

メモリ使用量とレンダリング時間を大幅に削減できます。
